pr:
  - master
  - dependabot*
trigger: none

resources:
  repositories:
    - repository: cet-iac
      type: git
      name: Cloud Excellence Team/cet-iac
      ref: main

pool:
  vmImage: 'ubuntu-latest'

steps:
  - task: NodeTool@0
    inputs:
      versionSpec: '16.x'
    displayName: 'Install Node.js'

  - script: |
      npm ci
    displayName: 'npm clean install'

  - script: |
      npm run test
    displayName: 'npm test'
